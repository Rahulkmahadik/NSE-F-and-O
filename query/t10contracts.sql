--- Top 10 trades with the highest number of contracts in the last 30 days
SELECT *
FROM trades
WHERE trade_timestamp >= (SELECT MAX(trade_timestamp) - INTERVAL '30 days' FROM trades)
ORDER BY contracts DESC
LIMIT 10;

/*
trade_id	instrument_id	exchange_id	expiry_id	OPEN	HIGH	LOW	    CLOSE	SETTLE_PR	CONTRACTS	VAL_INLAKH	OPEN_INT	CHG_IN_OI	trade_timestamp
423821	    1225343	        1	        2520676	    8.15	11.3	5.75	6.75	6.75	    4307	    19620.58	2512448	    217505	    2019-11-13 15:30:00
436109	    1115833	        1	        2520676	    8.15	11.3	5.75	6.75	6.75	    4307	    19620.58	2512448	    217505	    2019-11-13 15:30:00
427917	    1154478	        1	        2520676	    8.15	11.3	5.75	6.75	6.75	    4307	    19620.58	2512448	    217505	    2019-11-13 15:30:00
544653	    103974	        1	        2520676	    8.15	11.3	5.75	6.75	6.75	    4307	    19620.58	2512448	    217505	    2019-11-13 15:30:00
438157	    1045286	        1	        2520676	    8.15	11.3	5.75	6.75	6.75	    4307	    19620.58	2512448	    217505	    2019-11-13 15:30:00
429965	    1154440	        1	        2520676	    8.15	11.3	5.75	6.75	6.75	    4307	    19620.58	2512448	    217505	    2019-11-13 15:30:00
432013	    1154305	        1	        2520676	    8.15	11.3	5.75	6.75	6.75	    4307	    19620.58	2512448	    217505	    2019-11-13 15:30:00
425869	    1225226	        1	        2520676	    8.15	11.3	5.75	6.75	6.75	    4307	    19620.58	2512448	    217505	    2019-11-13 15:30:00
421773	    1296461	        1	        2520676	    8.15	11.3	5.75	6.75	6.75	    4307	    19620.58	2512448	    217505	    2019-11-13 15:30:00
434061	    1115979	        1	        2520676	    8.15	11.3	5.75	6.75	6.75	    4307	    19620.58	2512448	    217505	    2019-11-13 15:30:00
*/